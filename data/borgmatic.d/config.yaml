source_directories:
    - /mnt/source
repositories:
    - path: ssh://jd1784dx@jd1784dx.repo.borgbase.com/./repo
      label: magis_tecfund-web-data
# one_file_system: true


#   Passphrase is set in variable $BORG_PASSPHRASE
#   encryption_passphrase: "DoNotMissToChangeYourPassphrase"
compression: lz4
archive_name_format: 'backup-{now}'

# Passphrase to unlock the encryption key with. Only use on
# repositories that were initialized with passphrase/repokey/keyfile
# encryption. Quote the value if it contains punctuation, so it parses
# correctly. And backslash any quote or backslash literals as well.
# Defaults to not set.
# encryption_passphrase: "!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~"
encryption_passphrase: ${BORG_PASSPHRASE}

# Command to use instead of "ssh". This can be used to specify ssh
# options. Defaults to not set.
ssh_command: ssh -i /root/.ssh/borg


keep_hourly: 2
keep_daily: 7
keep_weekly: 4
keep_monthly: 12
keep_yearly: 10



checks:
    - name: repository
    - name: archives
check_last: 3



before_backup:
    - echo "Starting a backup job."
after_backup:
    - echo "Backup created."
on_error:
    - echo "Error while creating a backup."
